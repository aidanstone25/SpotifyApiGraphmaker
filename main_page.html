<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  

    <script>
       let album_list = []
       
    function display_albums(){
        document.getElementById('album_table').innerHTML = ''
        table_header = document.createElement('tr')
        table_album_header = document.createElement('th')
        table_artist_header = document.createElement('th')
        table_date_header = document.createElement('th')
        table_score_header = document.createElement('th')
        table_album_header.innerText = 'Album'
        table_artist_header.innerText = 'Artist'
        table_date_header.innerText = 'Date'
        table_score_header.innerText = 'Score'


        let album_location = document.getElementById('album_table')
        album_location.appendChild(table_header)
        table_header.appendChild(table_album_header)
        table_header.appendChild(table_artist_header)
        table_header.appendChild(table_date_header)
        table_header.appendChild(table_score_header)


        album_list.forEach(function (album){
            table_row = document.createElement('tr')
            album_collumn = document.createElement('td')
            artist_collumn = document.createElement('td')
            date_collumn = document.createElement('td')
            score_collumn = document.createElement('td')

            delete_button_button = document.createElement('button')
            delete_button_button.innerText = "Delete"
            delete_button_button.id = album.id
            delete_button_button.onclick = delete_album;
          

            score_box = document.createElement('select')
           


            album_collumn.innerText = album.album_name
            
            
           
            artist_collumn.innerText = album.artist
            
            date_collumn.innerText = album.release_date
            let album_location = document.getElementById('album_table')
            album_location.appendChild(table_row)
            table_row.appendChild(album_collumn)
            table_row.appendChild(artist_collumn)
            table_row.appendChild(date_collumn)
            table_row.appendChild(score_collumn)
            table_row.appendChild(delete_button_button)
            table_row.appendChild(score_box)
            console.log(album)
        })

    }

/*album_collumn = table_row.createElement('td')
artist_collumn = table_row.createElement('td')
            date_collumn = table_row.createElement('td')
            album_collumn.innerText = album.album_name
            artist_collumn.innerText = album.artist
            date_collumn.innerText = album.release_date
            */
    function add_albums(){
        album_name = document.getElementById('addedInput').value
        album_list.push({
            album_name: album_name,
            artist: "Aidan Stone",
            release_date: 2022,
            score: NaN,
            id: album_name
        });
        display_albums();
  
    }
    function delete_album(event){
        const delete_button = event.target
        const idToDelete = delete_button.id
        album_list = album_list.filter(function (album){
            if (album.id === idToDelete){
                return false
            }
            else{
                return true
            }
        })
        display_albums();
    }
    </script>
</head>
<body style="
height:3000px;
">
 
<header class="header">
    <div class="search_bar_section">
         <form class="search_bar" >
        <div ><input class="search_bar_cool" type="text" placeholder="Search"></div>
         <img class="search_bar_button" src="pictures/search_bar.jpg">
         <!-- When I make it a button it fucks up the shape? -->
       </form>
         </div>

    <div class="header_section">

        <div class="nav_stuff">
            <li><span><a href="fantasy_website_website.html">Home</a></span></li>
            <li><span><a href="fantasy_website_website.html">Add Albums</a></span></li>
            <li><span><a href="about_me.html">About Me</a></span></li>
            <li><span><a href="fantasy_website_website.html">Other idk</a></span></li>
            <li><span><a href="about_me.html">Other idk</a></span></li>
        </div>
       
    </div>
    <div class="profile_section">
        <img  class="pfp" src="pictures/gkmc.jpg">

    </div>
</header>

<body>


  <div>
    <table border="10" width="100" class="album_table" id="album_table">
        <tr>
            <th>Album</th>
            <th>Artist</th>
            <th>Average Score</th>
            <th>Score</th>
        </tr>
      
    </table>
</div>


  <div class="form">
    <input type="text" placeholder="Search" id="addedInput",class = "Searchbar">
    <button type="button" id="addBtn" onclick="add_albums()"></button>
  </div>

  <body>
    
